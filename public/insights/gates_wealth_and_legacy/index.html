<!DOCTYPE html>
<html lang="zh-cn" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522690491488750"
     crossorigin="anonymous"></script>

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Gates&#39; Wealth and Legacy | Hankou</title>
<meta name="keywords" content="">
<meta name="description" content="The Challenge and Philosophy of Spending Down the Foundation">
<meta name="author" content="Acj">
<link rel="canonical" href="https://hankou.com/insights/gates_wealth_and_legacy/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a5781257de4197b8e3d54346acdf1dd55a9ba4cb91dcace192fc1baf228c08b5.css" integrity="sha256-pXgSV95Bl7jj1UNGrN8d1VqbpMuR3KzhkvwbryKMCLU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://hankou.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://hankou.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://hankou.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://hankou.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://hankou.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="https://hankou.com/insights/gates_wealth_and_legacy/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://hankou.com/insights/gates_wealth_and_legacy/">
  <meta property="og:site_name" content="Hankou">
  <meta property="og:title" content="Gates&#39; Wealth and Legacy">
  <meta property="og:description" content="The Challenge and Philosophy of Spending Down the Foundation">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="insights">
    <meta property="article:published_time" content="2025-05-09T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-09T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Gates&#39; Wealth and Legacy">
<meta name="twitter:description" content="The Challenge and Philosophy of Spending Down the Foundation">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Insights",
      "item": "https://hankou.com/insights/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Gates' Wealth and Legacy",
      "item": "https://hankou.com/insights/gates_wealth_and_legacy/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Gates' Wealth and Legacy",
  "name": "Gates\u0027 Wealth and Legacy",
  "description": "The Challenge and Philosophy of Spending Down the Foundation",
  "keywords": [
    
  ],
  "articleBody": "Bill Gates has announced plans to permanently close his founded Bill \u0026 Melinda Gates Foundation by December 31, 2045. This decision significantly accelerates the pace of his philanthropic work. Compared to the original plan of gradually closing the foundation within 20 years after the deaths of Bill and Melinda, Gates chose to move the closure forward to 2045 to ensure funds are directed faster towards the world’s most pressing needs. He stated, “I have decided to return virtually all of my wealth to society faster than planned because there are too many urgent problems in the world that can’t wait.”\nGates plans to donate almost all of his wealth over the next approximately 20 years, earmarked for projects in global health, education, vaccination, poverty alleviation, and other areas. The Gates Foundation remains his primary channel for giving. By December 31, 2045, the foundation will have completed its mission and officially close. This “time-limited spend down” plan is centered on ensuring Gates’ wealth generates the greatest social impact during his lifetime, rather than being preserved as a perpetual legacy. Although he co-founded the Giving Pledge with Warren Buffett, encouraging billionaires to commit at least half their wealth to philanthropy, Gates emphasizes the importance of personally seeing these funds applied to solve contemporary issues.\nSince its establishment in 2000, the Gates Foundation has invested over $100 billion in areas such as global health, education, and agriculture, supporting wide-ranging projects including vaccination campaigns, disease control and prevention, and education reform. Therefore, despite the foundation’s planned closure date in 2045, it will continue to operate actively over the next approximately 20 years, fully committed to tackling the world’s most urgent problems.\nDoes This Mean the Gates Foundation Will Spend Down All Its Assets to Zero Before Closing? Yes, the Gates Foundation’s clear goal before closing is to use all its assets for charitable projects, ultimately bringing its assets to zero. Specifically, Bill Gates plans, through accelerating donations, to use all of the foundation’s assets for philanthropic projects before its closure in 2045. Gates’ objective is for the foundation to retain no remaining assets after completing its mission, but rather to decisively dedicate all resources to addressing the most pressing global issues. This is a “time-limited spend down” model of philanthropy, distinctly different from traditional perpetual foundations (like the Ford Foundation).\nWith approximately 20 years remaining until 2045, the Gates Foundation’s substantial assets will continue to grow through investments. How to effectively spend down this vast and continuously appreciating endowment within the set timeframe is undoubtedly one of the core challenges the Gates Foundation faces over the next two decades.\nWhy Is This a Huge Challenge? This challenge is primarily manifested in several aspects:\nLarge Asset Base with Continuous Growth: The foundation’s current assets exceed $100 billion. Even conservatively estimating an annual investment return of 5% to 7%, if spending doesn’t accelerate, investment income alone could add $5 billion to $7 billion per year, and the total asset value could continue to grow. This significantly multiplies the difficulty of reaching zero. Significant Increase in Spending Required Annually: To achieve the goal of spending down by 2045, spending must be substantially increased year by year, far exceeding the current level of approximately $8 billion annually (which is already one of the world’s largest private philanthropic expenditures). Further significantly accelerating spending from such a high base is not simple. Finding Projects Capable of Effectively “Absorbing” Large Funds: Large-scale giving isn’t merely about “giving money away.” It requires ensuring funds are directed towards projects that are effective, scalable, have strong execution capabilities, are demonstrably impactful, and sustainable. This necessitates extremely rigorous project management, evaluation, and extensive international cooperation; otherwise, resources could easily be wasted or spending could be ineffective. Navigating Global Uncertainties: Geopolitical instability, climate change, economic volatility, regional conflicts, pandemics, and other global risks constantly emerge. These directly impact the difficulty of implementing foundation projects, resource allocation efficiency, and expected outcomes. The foundation must possess robust adaptability to cope with these external uncertainties. Facing these challenges, Gates himself and the foundation are actively pursuing strategies including strengthening project selection and results-oriented management to ensure funds are used effectively, expanding their network of partners including the UN, World Bank, and GAVI, supporting cutting-edge innovative solutions such as vaccine cold chains, biotechnology, and climate-adaptive agriculture, and regularly adjusting the pace and strategy of spending in response to market and global developments. This is indeed a tremendous “spending” challenge, whose complexity might even surpass that of earning the money.\n“Time-Limited Spend Down”: A More Morally Compelling or More Risky Philanthropic Philosophy? Gates’ choice of a “time-limited spend down” is a “mission-driven spend-to-zero philosophy”—he opts to maximize the impact of his wealth within a timeframe he can control, rather than leaving behind a perpetually operating legacy institution. This model stands in stark contrast to traditional “generational foundations” and has sparked discussion about its moral force versus its potential risks.\nFrom a Moral Standpoint: The “time-limited spend down” model is generally considered to embody a stronger sense of present responsibility. It emphasizes not deferring the task of addressing urgent problems to future generations, but rather personally committing wealth to contemporary issues while the founder still possesses the capability and judgment. This reflects a strong concern for present realities and proactive responsibility. From a Resource Utilization Efficiency Standpoint: Perpetual foundations may, over time, face bureaucratization, conservative strategies, or detachment from their original intent due to generational transitions, leading to resource “stagnation” or inefficient use. In contrast, the “time-limited” model is compelled to allocate resources effectively and strategically within a finite period, often leading to greater strategic clarity. Furthermore, “time-limited spending” can prevent the “legacies of power” from solidifying. Some perpetual foundations eventually evolve into “extensions of family power” or symbolic institutions, deviating from their founding principles; the time-limited model avoids this path dependency. However, this model also comes with higher risks:\nHigh Difficulty in Project Implementation: Effectively and responsibly spending colossal sums of money within a relatively short timeframe demands exceptionally high organizational capacity, project management, and risk control from the foundation. Should direction be misjudged or execution be flawed, resources can very easily be wasted or impact significantly diminished. Global Issues Cannot Be Solved Quickly: Many global problems, such as entrenched poverty, complex disease ecosystems, or educational inequality, are systemic issues requiring the sustained efforts of multiple generations. A time-limited model might be too compressed in its timeframe to continuously and stably support fundamental changes that require a long-term cycle to show effect. Lack of a “Generational Correction” Mechanism: Perpetual foundations can continuously revise their strategies and focus areas in response to societal changes and developments, offering flexibility. A “time-limited spend down” foundation, once it has set its ambitious end goal and spending plan, has less room for mid-course adjustments and is theoretically more prone to “hitting the wrong wall” without the ability to correct course in time. In Conclusion: If philanthropy were viewed as a race, a traditional foundation is a “generational relay race,” aiming to pass the torch from one generation to the next. In contrast, “time-limited spending” is more like a high-intensity “100-meter sprint,” with the goal of reaching the finish line at maximum speed within a limited time. In terms of moral compellingness and the urgency of historical responsibility, “time-limited spending” undoubtedly carries more tension; however, regarding strategic soundness and sustainability in facing future unknown challenges, a traditional foundation is clearly more stable. For an individual like Bill Gates, who possesses vast resources, exceptional capabilities, and significant global influence, “time-limited spending” is not an impulsive decision but rather a well-thought-out “strategic philanthropy philosophy” rooted in his unique perspective and values—using the most effective means within his lifetime to respond to the world’s most pressing contemporary suffering.\n",
  "wordCount" : "1288",
  "inLanguage": "zh-cn",
  "datePublished": "2025-05-09T00:00:00Z",
  "dateModified": "2025-05-09T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Acj"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://hankou.com/insights/gates_wealth_and_legacy/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Hankou",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hankou.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://hankou.com/" accesskey="h" title="Hankou (Alt + H)">Hankou</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://hankou.com/investment/" title="Investment">
                    <span>Investment</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/insights/" title="Insights">
                    <span>Insights</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/business-costs/" title="">
                    <span></span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/regulations/" title="">
                    <span></span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Gates&#39; Wealth and Legacy
    </h1>
    <div class="post-description">
      The Challenge and Philosophy of Spending Down the Foundation
    </div>
    <div class="post-meta"><span title='2025-05-09 00:00:00 +0000 UTC'>May 9, 2025</span>&nbsp;·&nbsp;<span>Acj</span>

</div>
  </header> 
  <div class="post-content"><p>Bill Gates has announced plans to permanently close his founded Bill &amp; Melinda Gates Foundation by December 31, 2045. This decision significantly accelerates the pace of his philanthropic work. Compared to the original plan of gradually closing the foundation within 20 years after the deaths of Bill and Melinda, Gates chose to move the closure forward to 2045 to ensure funds are directed faster towards the world&rsquo;s most pressing needs. He stated, &ldquo;I have decided to return virtually all of my wealth to society faster than planned because there are too many urgent problems in the world that can&rsquo;t wait.&rdquo;</p>
<p>Gates plans to donate almost all of his wealth over the next approximately 20 years, earmarked for projects in global health, education, vaccination, poverty alleviation, and other areas. The Gates Foundation remains his primary channel for giving. By December 31, 2045, the foundation will have completed its mission and officially close. This &ldquo;time-limited spend down&rdquo; plan is centered on ensuring Gates&rsquo; wealth generates the greatest social impact during his lifetime, rather than being preserved as a perpetual legacy. Although he co-founded the Giving Pledge with Warren Buffett, encouraging billionaires to commit at least half their wealth to philanthropy, Gates emphasizes the importance of personally seeing these funds applied to solve contemporary issues.</p>
<p>Since its establishment in 2000, the Gates Foundation has invested over $100 billion in areas such as global health, education, and agriculture, supporting wide-ranging projects including vaccination campaigns, disease control and prevention, and education reform. Therefore, despite the foundation&rsquo;s planned closure date in 2045, it will continue to operate actively over the next approximately 20 years, fully committed to tackling the world&rsquo;s most urgent problems.</p>
<h2 id="does-this-mean-the-gates-foundation-will-spend-down-all-its-assets-to-zero-before-closing">Does This Mean the Gates Foundation Will Spend Down All Its Assets to Zero Before Closing?<a hidden class="anchor" aria-hidden="true" href="#does-this-mean-the-gates-foundation-will-spend-down-all-its-assets-to-zero-before-closing">#</a></h2>
<p>Yes, the Gates Foundation&rsquo;s clear goal before closing is to use all its assets for charitable projects, ultimately bringing its assets to zero. Specifically, Bill Gates plans, through accelerating donations, to use all of the foundation&rsquo;s assets for philanthropic projects before its closure in 2045. Gates&rsquo; objective is for the foundation to retain no remaining assets after completing its mission, but rather to decisively dedicate all resources to addressing the most pressing global issues. This is a &ldquo;time-limited spend down&rdquo; model of philanthropy, distinctly different from traditional perpetual foundations (like the Ford Foundation).</p>
<p>With approximately 20 years remaining until 2045, the Gates Foundation&rsquo;s substantial assets will continue to grow through investments. How to effectively spend down this vast and continuously appreciating endowment within the set timeframe is undoubtedly one of the core challenges the Gates Foundation faces over the next two decades.</p>
<h2 id="why-is-this-a-huge-challenge">Why Is This a Huge Challenge?<a hidden class="anchor" aria-hidden="true" href="#why-is-this-a-huge-challenge">#</a></h2>
<p>This challenge is primarily manifested in several aspects:</p>
<ul>
<li><strong>Large Asset Base with Continuous Growth:</strong> The foundation&rsquo;s current assets exceed $100 billion. Even conservatively estimating an annual investment return of 5% to 7%, if spending doesn&rsquo;t accelerate, investment income alone could add $5 billion to $7 billion per year, and the total asset value could continue to grow. This significantly multiplies the difficulty of reaching zero.</li>
<li><strong>Significant Increase in Spending Required Annually:</strong> To achieve the goal of spending down by 2045, spending must be substantially increased year by year, far exceeding the current level of approximately $8 billion annually (which is already one of the world&rsquo;s largest private philanthropic expenditures). Further significantly accelerating spending from such a high base is not simple.</li>
<li><strong>Finding Projects Capable of Effectively &ldquo;Absorbing&rdquo; Large Funds:</strong> Large-scale giving isn&rsquo;t merely about &ldquo;giving money away.&rdquo; It requires ensuring funds are directed towards projects that are effective, scalable, have strong execution capabilities, are demonstrably impactful, and sustainable. This necessitates extremely rigorous project management, evaluation, and extensive international cooperation; otherwise, resources could easily be wasted or spending could be ineffective.</li>
<li><strong>Navigating Global Uncertainties:</strong> Geopolitical instability, climate change, economic volatility, regional conflicts, pandemics, and other global risks constantly emerge. These directly impact the difficulty of implementing foundation projects, resource allocation efficiency, and expected outcomes. The foundation must possess robust adaptability to cope with these external uncertainties.</li>
</ul>
<p>Facing these challenges, Gates himself and the foundation are actively pursuing strategies including strengthening project selection and results-oriented management to ensure funds are used effectively, expanding their network of partners including the UN, World Bank, and GAVI, supporting cutting-edge innovative solutions such as vaccine cold chains, biotechnology, and climate-adaptive agriculture, and regularly adjusting the pace and strategy of spending in response to market and global developments. This is indeed a tremendous &ldquo;spending&rdquo; challenge, whose complexity might even surpass that of earning the money.</p>
<h2 id="time-limited-spend-down-a-more-morally-compelling-or-more-risky-philanthropic-philosophy">&ldquo;Time-Limited Spend Down&rdquo;: A More Morally Compelling or More Risky Philanthropic Philosophy?<a hidden class="anchor" aria-hidden="true" href="#time-limited-spend-down-a-more-morally-compelling-or-more-risky-philanthropic-philosophy">#</a></h2>
<p>Gates&rsquo; choice of a &ldquo;time-limited spend down&rdquo; is a &ldquo;mission-driven spend-to-zero philosophy&rdquo;—he opts to maximize the impact of his wealth within a timeframe he can control, rather than leaving behind a perpetually operating legacy institution. This model stands in stark contrast to traditional &ldquo;generational foundations&rdquo; and has sparked discussion about its moral force versus its potential risks.</p>
<ul>
<li><strong>From a Moral Standpoint:</strong> The &ldquo;time-limited spend down&rdquo; model is generally considered to embody a stronger sense of present responsibility. It emphasizes not deferring the task of addressing urgent problems to future generations, but rather personally committing wealth to contemporary issues while the founder still possesses the capability and judgment. This reflects a strong concern for present realities and proactive responsibility.</li>
<li><strong>From a Resource Utilization Efficiency Standpoint:</strong> Perpetual foundations may, over time, face bureaucratization, conservative strategies, or detachment from their original intent due to generational transitions, leading to resource &ldquo;stagnation&rdquo; or inefficient use. In contrast, the &ldquo;time-limited&rdquo; model is compelled to allocate resources effectively and strategically within a finite period, often leading to greater strategic clarity. Furthermore, &ldquo;time-limited spending&rdquo; can prevent the &ldquo;legacies of power&rdquo; from solidifying. Some perpetual foundations eventually evolve into &ldquo;extensions of family power&rdquo; or symbolic institutions, deviating from their founding principles; the time-limited model avoids this path dependency.</li>
</ul>
<p>However, this model also comes with higher <strong>risks</strong>:</p>
<ul>
<li><strong>High Difficulty in Project Implementation:</strong> Effectively and responsibly spending colossal sums of money within a relatively short timeframe demands exceptionally high organizational capacity, project management, and risk control from the foundation. Should direction be misjudged or execution be flawed, resources can very easily be wasted or impact significantly diminished.</li>
<li><strong>Global Issues Cannot Be Solved Quickly:</strong> Many global problems, such as entrenched poverty, complex disease ecosystems, or educational inequality, are systemic issues requiring the sustained efforts of multiple generations. A time-limited model might be too compressed in its timeframe to continuously and stably support fundamental changes that require a long-term cycle to show effect.</li>
<li><strong>Lack of a &ldquo;Generational Correction&rdquo; Mechanism:</strong> Perpetual foundations can continuously revise their strategies and focus areas in response to societal changes and developments, offering flexibility. A &ldquo;time-limited spend down&rdquo; foundation, once it has set its ambitious end goal and spending plan, has less room for mid-course adjustments and is theoretically more prone to &ldquo;hitting the wrong wall&rdquo; without the ability to correct course in time.</li>
</ul>
<p><strong>In Conclusion:</strong> If philanthropy were viewed as a race, a traditional foundation is a &ldquo;generational relay race,&rdquo; aiming to pass the torch from one generation to the next. In contrast, &ldquo;time-limited spending&rdquo; is more like a high-intensity &ldquo;100-meter sprint,&rdquo; with the goal of reaching the finish line at maximum speed within a limited time. In terms of moral compellingness and the urgency of historical responsibility, &ldquo;time-limited spending&rdquo; undoubtedly carries more tension; however, regarding strategic soundness and sustainability in facing future unknown challenges, a traditional foundation is clearly more stable. For an individual like Bill Gates, who possesses vast resources, exceptional capabilities, and significant global influence, &ldquo;time-limited spending&rdquo; is not an impulsive decision but rather a well-thought-out &ldquo;strategic philanthropy philosophy&rdquo; rooted in his unique perspective and values—using the most effective means within his lifetime to respond to the world&rsquo;s most pressing contemporary suffering.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://hankou.com/insights/berkshire_hathaway_sotck_price/">
    <span class="title">« </span>
    <br>
    <span>Berkshire Hathaway&#39;s Stock Price</span>
  </a>
  <a class="next" href="https://hankou.com/insights/once_upon_a_time_in_hankou/">
    <span class="title"> »</span>
    <br>
    <span>Once Upon a Time in Hankou</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://hankou.com/">Hankou</a></span> · 
    <a href="/privacy-policy/">Privacy Policy</a> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

</body>

</html>
