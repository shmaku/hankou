<!DOCTYPE html>
<html lang="zh-cn" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522690491488750"
     crossorigin="anonymous"></script>

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Fading Gold | Hankou</title>
<meta name="keywords" content="">
<meta name="description" content="The Reflection of Value and the Game of Safe Haven">
<meta name="author" content="">
<link rel="canonical" href="https://hankou.com/insights/fading-gold/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a5781257de4197b8e3d54346acdf1dd55a9ba4cb91dcace192fc1baf228c08b5.css" integrity="sha256-pXgSV95Bl7jj1UNGrN8d1VqbpMuR3KzhkvwbryKMCLU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://hankou.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://hankou.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://hankou.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://hankou.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://hankou.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="https://hankou.com/insights/fading-gold/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://hankou.com/insights/fading-gold/">
  <meta property="og:site_name" content="Hankou">
  <meta property="og:title" content="Fading Gold">
  <meta property="og:description" content="The Reflection of Value and the Game of Safe Haven">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="insights">
    <meta property="article:published_time" content="2025-05-13T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-13T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fading Gold">
<meta name="twitter:description" content="The Reflection of Value and the Game of Safe Haven">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Insights",
      "item": "https://hankou.com/insights/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Fading Gold",
      "item": "https://hankou.com/insights/fading-gold/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Fading Gold",
  "name": "Fading Gold",
  "description": "The Reflection of Value and the Game of Safe Haven",
  "keywords": [
    
  ],
  "articleBody": "“Gold will always shine” is a common saying, often cited to encourage harder work, yet it contains a fundamental factual error. Gold itself does not generate light; its glittering appearance is merely the color of light it reflects from external sources. Extending this simple physical fact to the realm of finance might offer a deeper understanding of gold’s nature as a special asset: the radiance of its value doesn’t stem from intrinsic growth or yield, but rather largely reflects external conditions – the market’s fear, the shadow of risk, the tide of currency, the temperature of geopolitics. Gold’s value is a passive and complex “reflective value.”\nTo comprehend gold’s role as a safe haven in the modern financial system, one must look back at its long historical evolution. Since ancient times, gold, owing to its rarity, stability, divisibility, and resistance to corrosion, inherently served as money and a store of value throughout human civilization. In the modern era, gold long played a foundational role in the global monetary system, particularly under the 19th-century Gold Standard, where national currencies were directly pegged to gold, making it the true “hard currency.” The mid-20th century Bretton Woods system established a U.S. dollar-centric international monetary order, but the dollar’s value was still linked to gold, with gold remaining the hidden ultimate backing of credit. It was only after the collapse of the Bretton Woods system in the 1970s, when gold’s official link to major currencies was severed, that its price became determined by market supply and demand. Precisely during this period, gold’s safe haven attribute was re-emphasized, making it a “borderless” asset sought after during market turbulence.\nThe logic behind gold’s designation as a safe haven asset lies in its unique characteristics:\nNo Credit Risk: Unlike credit assets such as paper money or bonds, gold does not rely on the credit endorsement of any government, central bank, or institution. It is a physical entity that cannot vanish due to the bankruptcy or default of an issuer. This attribute is particularly salient when sovereign credit is questioned or the financial system faces collapse risks. Independence: Gold’s price is not directly influenced by the monetary policy of any single nation. Its global market operates independently and is less susceptible to manipulation by local policies or events (though central bank actions and large market players can exert influence). This independence makes it a tool for hedging against specific country risks. Hedge Against Currency Depreciation and Inflation: When central banks excessively print money or high inflation erodes purchasing power, the price of gold, measured in that currency, tends to rise, thus preserving or even increasing value to some extent. Gold is traditionally seen as a tool to combat inflation and currency devaluation. Global Market and High Liquidity: The gold market is a highly developed global market with trading occurring worldwide in various forms (physical, futures, ETFs, etc.). This high liquidity ensures investors can buy or sell conveniently and quickly when needed. Central Bank Reserve Function: To this day, many central banks continue to hold gold as part of their foreign exchange reserves. This serves both as asset diversification and strategic risk aversion, further solidifying gold’s position. Understanding the logic of gold’s safe haven status, its supply and demand dynamics are also worth exploring in depth. Global gold supply primarily comes from two sources: mined gold and recycled gold. In 2024, total global gold supply was approximately 4,974 tonnes, consisting of about 3,661 tonnes from mining and about 1,370 tonnes from recycling. Mined gold supply is influenced by geological conditions, extraction technology, environmental policies, labor strikes, and other factors, showing relatively stable or even slowing growth. Recycled gold supply is highly positively correlated with the gold price; a price increase stimulates increased recycling.\nGold demand is more diverse, primarily including:\nJewelry Demand: Represents the largest share of gold demand, influenced by economic prosperity, cultural preferences, and gold price fluctuations. Industrial Demand: Gold has special uses in electronics, medicine, and other fields. This demand is relatively stable and related to the development of relevant industries. Investment Demand: This is the part most directly related to the safe haven attribute, encompassing physical gold (bars, coins) and gold financial products (ETFs, futures, options, paper gold, etc.). Investment demand significantly impacts gold price volatility, especially in the short and medium term. In 2024, investment demand was approximately 1,180 tonnes, accounting for 23.7% of total demand. Central Bank Purchases: In recent years, central banks in many countries have significantly increased their gold reserves. This constitutes an important new source of demand, reflecting countries’ re-evaluation of gold’s strategic value in the context of complex geopolitical and macroeconomic landscapes. For ordinary investors, there are various ways to invest in gold. Besides buying physical gold, one can participate through financial products like gold ETFs (tracking gold price), gold futures or options (high leverage), gold mining company stocks (correlated with gold price and company operations), and bank paper gold (tracking gold price without physical delivery). The choice of method depends on the investor’s risk tolerance, capital amount, and liquidity needs.\nHowever, investing in gold is not without cost. Gold itself does not generate interest or dividends, and holding physical gold involves storage and insurance costs. This means there is an “opportunity cost” to investing in gold – allocating funds to gold means foregoing the opportunity to invest in assets that might generate yield, such as bonds, stocks, or real estate. During periods of high interest rates, gold’s lack of yield reduces its attractiveness, and its price performance may be pressured. In contrast, during periods of low or negative interest rates, gold’s relative appeal increases.\nThe current market environment provides a stage for gold’s safe haven attribute. The Ukraine crisis has continued for over three years, compounded by geopolitical tensions in various regions globally (such as conflicts in the Middle East). Uncertainty has become the norm, driving safe haven flows into gold. High global debt levels and inflationary pressures in some major economies also enhance gold’s appeal as a tool to hedge against currency devaluation. Simultaneously, the direction of major central banks’ monetary policies, particularly the Federal Reserve’s interest rate decisions and the strength or weakness of the U.S. dollar, significantly influences gold prices. A stronger dollar typically pressures gold prices, which are denominated in dollars, while a weaker dollar provides support.\nRecent rapid market changes also confirm the “reflective” nature of gold’s value. For instance, in the context of progress in U.S.-China trade talks leading to eased trade tensions, market risk appetite quickly rebounded, and funds shifted from safe havens to risk assets, causing gold prices to fall sharply by over 3% in a short period. This demonstrates that gold’s shine does indeed “fade” with changes in the external environment; when risks recede and optimism prevails, the appeal of its safe haven value diminishes.\nNevertheless, some strategists remain optimistic about gold’s future performance, viewing short-term dips as healthy corrections and expecting long-term potential to reach new historical highs. This logic is likely based on the view that geopolitical risks have not completely dissipated, inflationary stickiness may exceed expectations, and major central banks may still pivot towards looser monetary policies in the future – factors that would continue to support gold’s safe haven demand.\nHowever, gold’s position as a safe haven is not immutable, and its importance may adjust with the evolution of the global financial landscape. The emergence of new perceived safe haven assets (such as sovereign bonds considered safe havens under certain market conditions, or even Bitcoin, which carries a similar narrative in the cryptocurrency sphere for some) and the increasing complexity of financial market instruments could potentially divert some safe haven capital at the margin. Simultaneously, the increased intervention capacity of governments and central banks and the development of global cooperation mechanisms might, to some extent, reduce the probability of extreme risks occurring (although recent events show these risks still exist).\nConclusion:\n“Fading Gold” does not mean gold itself has lost value, but rather that the brilliance of its value is a reflection, dependent on the macroeconomic and geopolitical environment it exists within. As a historical store of value and a safe haven asset, gold’s core attributes such as no credit risk, independence, and potential to hedge against inflation remain significant in today’s world filled with uncertainties. Its price is driven by fundamental supply and demand, particularly investment and central bank demand, along with multiple complex factors including geopolitics, macroeconomic policies, and currency fluctuations.\nWhen risks rise and confidence is low, gold’s safe haven glow is exceptionally bright. However, when risk appetite returns and other assets offer tempting yields, its shine appears relatively “faded.” Investing in gold is one option for managing risk and diversifying assets, but it requires a deep understanding of the sources of its value, supply and demand dynamics, and the associated costs and volatility. Its radiance is not an immutable intrinsic light, but rather a complex and changing reflection of security projected by the market onto a perceived safe harbor during the night of uncertainty.\n",
  "wordCount" : "1503",
  "inLanguage": "zh-cn",
  "datePublished": "2025-05-13T00:00:00Z",
  "dateModified": "2025-05-13T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://hankou.com/insights/fading-gold/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Hankou",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hankou.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://hankou.com/" accesskey="h" title="Hankou (Alt + H)">Hankou</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://hankou.com/investment/" title="Investment">
                    <span>Investment</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/insights/" title="Insights">
                    <span>Insights</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/business-costs/" title="">
                    <span></span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/regulations/" title="">
                    <span></span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Fading Gold
    </h1>
    <div class="post-description">
      The Reflection of Value and the Game of Safe Haven
    </div>
    <div class="post-meta"><span title='2025-05-13 00:00:00 +0000 UTC'>May 13, 2025</span>

</div>
  </header> 
  <div class="post-content"><p>&ldquo;Gold will always shine&rdquo; is a common saying, often cited to encourage harder work, yet it contains a fundamental factual error. Gold itself does not generate light; its glittering appearance is merely the color of light it reflects from external sources. Extending this simple physical fact to the realm of finance might offer a deeper understanding of gold&rsquo;s nature as a special asset: the radiance of its value doesn&rsquo;t stem from intrinsic growth or yield, but rather largely reflects external conditions – the market&rsquo;s fear, the shadow of risk, the tide of currency, the temperature of geopolitics. Gold&rsquo;s value is a passive and complex &ldquo;reflective value.&rdquo;</p>
<p>To comprehend gold&rsquo;s role as a safe haven in the modern financial system, one must look back at its long historical evolution. Since ancient times, gold, owing to its rarity, stability, divisibility, and resistance to corrosion, inherently served as money and a store of value throughout human civilization. In the modern era, gold long played a foundational role in the global monetary system, particularly under the 19th-century Gold Standard, where national currencies were directly pegged to gold, making it the true &ldquo;hard currency.&rdquo; The mid-20th century Bretton Woods system established a U.S. dollar-centric international monetary order, but the dollar&rsquo;s value was still linked to gold, with gold remaining the hidden ultimate backing of credit. It was only after the collapse of the Bretton Woods system in the 1970s, when gold&rsquo;s official link to major currencies was severed, that its price became determined by market supply and demand. Precisely during this period, gold&rsquo;s safe haven attribute was re-emphasized, making it a &ldquo;borderless&rdquo; asset sought after during market turbulence.</p>
<p>The logic behind gold&rsquo;s designation as a safe haven asset lies in its unique characteristics:</p>
<ul>
<li><strong>No Credit Risk:</strong> Unlike credit assets such as paper money or bonds, gold does not rely on the credit endorsement of any government, central bank, or institution. It is a physical entity that cannot vanish due to the bankruptcy or default of an issuer. This attribute is particularly salient when sovereign credit is questioned or the financial system faces collapse risks.</li>
<li><strong>Independence:</strong> Gold&rsquo;s price is not directly influenced by the monetary policy of any single nation. Its global market operates independently and is less susceptible to manipulation by local policies or events (though central bank actions and large market players can exert influence). This independence makes it a tool for hedging against specific country risks.</li>
<li><strong>Hedge Against Currency Depreciation and Inflation:</strong> When central banks excessively print money or high inflation erodes purchasing power, the price of gold, measured in that currency, tends to rise, thus preserving or even increasing value to some extent. Gold is traditionally seen as a tool to combat inflation and currency devaluation.</li>
<li><strong>Global Market and High Liquidity:</strong> The gold market is a highly developed global market with trading occurring worldwide in various forms (physical, futures, ETFs, etc.). This high liquidity ensures investors can buy or sell conveniently and quickly when needed.</li>
<li><strong>Central Bank Reserve Function:</strong> To this day, many central banks continue to hold gold as part of their foreign exchange reserves. This serves both as asset diversification and strategic risk aversion, further solidifying gold&rsquo;s position.</li>
</ul>
<p>Understanding the logic of gold&rsquo;s safe haven status, its supply and demand dynamics are also worth exploring in depth. Global gold supply primarily comes from two sources: mined gold and recycled gold. In 2024, total global gold supply was approximately 4,974 tonnes, consisting of about 3,661 tonnes from mining and about 1,370 tonnes from recycling. Mined gold supply is influenced by geological conditions, extraction technology, environmental policies, labor strikes, and other factors, showing relatively stable or even slowing growth. Recycled gold supply is highly positively correlated with the gold price; a price increase stimulates increased recycling.</p>
<p>Gold demand is more diverse, primarily including:</p>
<ul>
<li><strong>Jewelry Demand:</strong> Represents the largest share of gold demand, influenced by economic prosperity, cultural preferences, and gold price fluctuations.</li>
<li><strong>Industrial Demand:</strong> Gold has special uses in electronics, medicine, and other fields. This demand is relatively stable and related to the development of relevant industries.</li>
<li><strong>Investment Demand:</strong> This is the part most directly related to the safe haven attribute, encompassing physical gold (bars, coins) and gold financial products (ETFs, futures, options, paper gold, etc.). Investment demand significantly impacts gold price volatility, especially in the short and medium term. In 2024, investment demand was approximately 1,180 tonnes, accounting for 23.7% of total demand.</li>
<li><strong>Central Bank Purchases:</strong> In recent years, central banks in many countries have significantly increased their gold reserves. This constitutes an important new source of demand, reflecting countries&rsquo; re-evaluation of gold&rsquo;s strategic value in the context of complex geopolitical and macroeconomic landscapes.</li>
</ul>
<p>For ordinary investors, there are various ways to invest in gold. Besides buying physical gold, one can participate through financial products like gold ETFs (tracking gold price), gold futures or options (high leverage), gold mining company stocks (correlated with gold price and company operations), and bank paper gold (tracking gold price without physical delivery). The choice of method depends on the investor&rsquo;s risk tolerance, capital amount, and liquidity needs.</p>
<p>However, investing in gold is not without cost. Gold itself does not generate interest or dividends, and holding physical gold involves storage and insurance costs. This means there is an &ldquo;opportunity cost&rdquo; to investing in gold – allocating funds to gold means foregoing the opportunity to invest in assets that might generate yield, such as bonds, stocks, or real estate. During periods of high interest rates, gold&rsquo;s lack of yield reduces its attractiveness, and its price performance may be pressured. In contrast, during periods of low or negative interest rates, gold&rsquo;s relative appeal increases.</p>
<p>The current market environment provides a stage for gold&rsquo;s safe haven attribute. The Ukraine crisis has continued for over three years, compounded by geopolitical tensions in various regions globally (such as conflicts in the Middle East). Uncertainty has become the norm, driving safe haven flows into gold. High global debt levels and inflationary pressures in some major economies also enhance gold&rsquo;s appeal as a tool to hedge against currency devaluation. Simultaneously, the direction of major central banks&rsquo; monetary policies, particularly the Federal Reserve&rsquo;s interest rate decisions and the strength or weakness of the U.S. dollar, significantly influences gold prices. A stronger dollar typically pressures gold prices, which are denominated in dollars, while a weaker dollar provides support.</p>
<p>Recent rapid market changes also confirm the &ldquo;reflective&rdquo; nature of gold&rsquo;s value. For instance, in the context of progress in U.S.-China trade talks leading to eased trade tensions, market risk appetite quickly rebounded, and funds shifted from safe havens to risk assets, causing gold prices to fall sharply by over 3% in a short period. This demonstrates that gold&rsquo;s shine does indeed &ldquo;fade&rdquo; with changes in the external environment; when risks recede and optimism prevails, the appeal of its safe haven value diminishes.</p>
<p>Nevertheless, some strategists remain optimistic about gold&rsquo;s future performance, viewing short-term dips as healthy corrections and expecting long-term potential to reach new historical highs. This logic is likely based on the view that geopolitical risks have not completely dissipated, inflationary stickiness may exceed expectations, and major central banks may still pivot towards looser monetary policies in the future – factors that would continue to support gold&rsquo;s safe haven demand.</p>
<p>However, gold&rsquo;s position as a safe haven is not immutable, and its importance may adjust with the evolution of the global financial landscape. The emergence of new perceived safe haven assets (such as sovereign bonds considered safe havens under certain market conditions, or even Bitcoin, which carries a similar narrative in the cryptocurrency sphere for some) and the increasing complexity of financial market instruments could potentially divert some safe haven capital at the margin. Simultaneously, the increased intervention capacity of governments and central banks and the development of global cooperation mechanisms might, to some extent, reduce the probability of extreme risks occurring (although recent events show these risks still exist).</p>
<p><strong>Conclusion:</strong></p>
<p>&ldquo;Fading Gold&rdquo; does not mean gold itself has lost value, but rather that the brilliance of its value is a reflection, dependent on the macroeconomic and geopolitical environment it exists within. As a historical store of value and a safe haven asset, gold&rsquo;s core attributes such as no credit risk, independence, and potential to hedge against inflation remain significant in today&rsquo;s world filled with uncertainties. Its price is driven by fundamental supply and demand, particularly investment and central bank demand, along with multiple complex factors including geopolitics, macroeconomic policies, and currency fluctuations.</p>
<p>When risks rise and confidence is low, gold&rsquo;s safe haven glow is exceptionally bright. However, when risk appetite returns and other assets offer tempting yields, its shine appears relatively &ldquo;faded.&rdquo; Investing in gold is one option for managing risk and diversifying assets, but it requires a deep understanding of the sources of its value, supply and demand dynamics, and the associated costs and volatility. Its radiance is not an immutable intrinsic light, but rather a complex and changing reflection of security projected by the market onto a perceived safe harbor during the night of uncertainty.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://hankou.com/insights/jianghan-road/">
    <span class="title">« </span>
    <br>
    <span>Jianghan Road</span>
  </a>
  <a class="next" href="https://hankou.com/insights/jianghan-customs-house-in-wuhan/">
    <span class="title"> »</span>
    <br>
    <span>Jianghan Customs House in Wuhan</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://hankou.com/">Hankou</a></span> · 
    <a href="/privacy-policy/">Privacy Policy</a> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

</body>

</html>
