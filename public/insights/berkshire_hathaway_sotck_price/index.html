<!DOCTYPE html>
<html lang="zh-cn" dir="auto" data-theme="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4522690491488750"
     crossorigin="anonymous"></script>

<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Berkshire Hathaway&#39;s Stock Price | Hankou</title>
<meta name="keywords" content="">
<meta name="description" content="Valuation in the Post-Buffett Era">
<meta name="author" content="Acj">
<link rel="canonical" href="https://hankou.com/insights/berkshire_hathaway_sotck_price/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.a5781257de4197b8e3d54346acdf1dd55a9ba4cb91dcace192fc1baf228c08b5.css" integrity="sha256-pXgSV95Bl7jj1UNGrN8d1VqbpMuR3KzhkvwbryKMCLU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://hankou.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://hankou.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://hankou.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://hankou.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://hankou.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh-cn" href="https://hankou.com/insights/berkshire_hathaway_sotck_price/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://hankou.com/insights/berkshire_hathaway_sotck_price/">
  <meta property="og:site_name" content="Hankou">
  <meta property="og:title" content="Berkshire Hathaway&#39;s Stock Price">
  <meta property="og:description" content="Valuation in the Post-Buffett Era">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="insights">
    <meta property="article:published_time" content="2025-05-12T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-05-12T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Berkshire Hathaway&#39;s Stock Price">
<meta name="twitter:description" content="Valuation in the Post-Buffett Era">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Insights",
      "item": "https://hankou.com/insights/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Berkshire Hathaway's Stock Price",
      "item": "https://hankou.com/insights/berkshire_hathaway_sotck_price/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Berkshire Hathaway's Stock Price",
  "name": "Berkshire Hathaway\u0027s Stock Price",
  "description": "Valuation in the Post-Buffett Era",
  "keywords": [
    
  ],
  "articleBody": "Berkshire Hathaway’s annual shareholder meeting is famously dubbed the “Woodstock of Capitalism.” However, unlike the original Woodstock music festival which took place only once in the distant year of 1968 (when Buffett was 38 and had acquired Berkshire just three years prior), Buffett’s gathering is a yearly event. How much value does this enduring “Woodstock of Capitalism” truly hold, and is that value adequately reflected in Berkshire Hathaway’s stock price?\nFor six decades, Buffett has remained rooted in Omaha, Nebraska. This deliberate distance from the bustling financial centers like Wall Street in New York (a journey of over 1,200 miles) symbolizes his unique, detached investment philosophy. As the “Buffett era” gradually transitions, questions arise about the future of this annual financial pilgrimage and its continued influence. The path ahead is uncertain.\nFor many investors, a pressing and tangible question concerns the valuation of Berkshire Hathaway in a “post-Buffett” landscape. Let’s analyze this from several angles.\nRecently, amid ongoing market attention to Berkshire’s succession and “de-Buffettization,” its Class A shares have experienced some volatility, pulling back from a high of approximately $810,000 to the current price around $770,000, a roughly 6% dip. This can be seen as an initial market reaction reflecting concerns about future uncertainty. Currently, Berkshire Hathaway’s Class A shares trade around $770,000, corresponding to a book value per share of approximately $450,000, resulting in a price-to-book ratio of about 1.7 times. This valuation is considered mid-to-high in Berkshire’s historical context. While not appearing cheap compared to many other large, stable companies, this valuation is often deemed acceptable when considering Berkshire’s unique structure, including its minimal debt, ample free cash flow generation, and independence from external financial markets for funding.\nIs Berkshire Hathaway’s Stock Worth $770,000 Per Share? Assets and Cash Flow: As of the first quarter of 2025, Berkshire held a record $347.7 billion in cash reserves, with its proportion of total assets increasing from 28.2% in 2019 to 31.9% in 2024. This indicates the company’s preparedness for uncertainty and provides significant flexibility for future investment opportunities. Furthermore, Berkshire’s equity investment portfolio is highly concentrated, with 69% of its fair value residing in five core holdings: American Express, Apple, Bank of America, Coca-Cola, and Chevron. These positions provide stable dividend income and long-term appreciation potential.\nBerkshire’s robust insurance operations serve as a powerful engine (“cash cow”), generating approximately $173 billion in float, a low-cost source of funds that fuels its investment activities. The company’s diverse core businesses demonstrated strong profitability and resilience, achieving $37.35 billion in operating earnings in fiscal year 2023. Although short-term investment fluctuations led to a year-over-year decrease in net earnings in Q1 2025, Buffett has consistently emphasized that short-term investment gains or losses have limited significance in assessing the company’s true intrinsic value; the long-term performance of its underlying businesses is what truly matters.\nValuation Analysis: Based on market data from May 2025, Berkshire’s Class A share price is approximately $770,000, leading to a market capitalization close to $1.2 trillion. From a price-to-book (P/B) perspective, the current share price is about 1.7 times its book value, a level that is mid-to-high historically for Berkshire. However, evaluating its valuation must consider its unique business model and remarkable long-term growth trajectory. Looking back over the past six decades, Berkshire’s per-share book value has grown at an astonishing compound annual growth rate of 19.9%, far exceeding the S\u0026P 500’s 10.4% over the same period. Using the $96.223 billion net earnings attributable to shareholders in fiscal year 2023 as a baseline (acknowledging the volatility from short-term investment gains/losses), the current price-to-earnings (P/E) ratio is around 13.7 times. This is significantly lower than the current average P/E ratio of the S\u0026P 500 index (approximately 20-25 times), which supports the view that its valuation is relatively reasonable.\nGrowth Prospects: Going forward, Berkshire’s growth will primarily depend on the continued appreciation of its existing investment portfolio and its ability to find new, large-scale acquisition opportunities that meet its stringent criteria. However, Buffett has been cautious about major acquisitions in recent years; there have been no significant deals comparable to the 2016 Precision Castparts acquisition. Furthermore, in the current market environment characterized by generally high valuations, the company has been a net seller of equity assets for ten consecutive quarters (net sold $1.5 billion in Q1 2025). This reflects the increasing difficulty in finding attractive investment targets that fit its standard of “buying wonderful businesses at a fair price.” Despite this, Berkshire’s investment in Japan’s five major trading houses (Mitsui, Mitsubishi, Sumitomo, Itochu, and Marubeni) has been notably successful, with the value of these holdings increasing significantly and a stated plan for long-term ownership. This indicates the company continues to actively seek value pockets and potential opportunities globally.\nPost-Buffett Era: Challenges and Opportunities As Berkshire Hathaway enters the post-Buffett era, it faces notable challenges:\nMarket Sentiment: Warren Buffett’s personal reputation and investment philosophy are key components of Berkshire’s unique brand value. As his direct influence gradually wanes, market sentiment could experience short-term volatility, particularly within the current context of relatively high US stock valuations and increased macroeconomic uncertainties like tariff policies. Successor’s Ability: While Greg Abel is widely recognized as a steady choice for overseeing operations, his ability to replicate Buffett’s unparalleled long-term investment success remains to be tested over time. Buffett’s “five-second decision” philosophy, based on deep understanding and decisive action, will be a significant trial for his successors in the investment roles. Macroeconomic and Policy Risks: Buffett has repeatedly warned about the potential negative impacts of trade protectionism and tariff policies on the global economy. Specifically, potential reciprocal tariff policies by the US government in 2025 could further impact the operating profits of Berkshire’s diverse businesses. Simultaneously, the company possesses significant opportunities and strengths:\nMassive Cash Reserves: The substantial cash holding of $347.7 billion provides Greg Abel with immense flexibility and operational capacity to navigate market changes and seize potential opportunities. This capital can be deployed for large-scale stock buybacks, strategic new investments, or value-buying during market downturns. Diversified and Resilient Business Portfolio: Berkshire’s core business segments, notably insurance, rail (BNSF), energy (BHE), and diversified manufacturing/service/retail operations, consistently generate strong and stable cash flow. This provides the company with significant resilience and anti-risk capability during macroeconomic fluctuations. In Conclusion: As Berkshire Hathaway enters the post-Buffett era, despite facing challenges such as testing successor capabilities and macroeconomic uncertainties, its strong fundamentals remain solid. The colossal cash reserves, the diversified portfolio composed of numerous high-quality businesses, and a clear succession framework provide firm support for its long-term value. The current stock price of approximately $770,000 per share, relative to its fundamentals and historical valuation levels, can still be considered within a reasonable range for long-term oriented investors. However, short-term market sentiment fluctuations and risks at the macroeconomic and policy levels may still lead to some degree of price volatility.\n",
  "wordCount" : "1137",
  "inLanguage": "zh-cn",
  "datePublished": "2025-05-12T00:00:00Z",
  "dateModified": "2025-05-12T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Acj"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://hankou.com/insights/berkshire_hathaway_sotck_price/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Hankou",
    "logo": {
      "@type": "ImageObject",
      "url": "https://hankou.com/favicon.ico"
    }
  }
}
</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://hankou.com/" accesskey="h" title="Hankou (Alt + H)">Hankou</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://hankou.com/investment/" title="Investment">
                    <span>Investment</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/insights/" title="Insights">
                    <span>Insights</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/business-costs/" title="">
                    <span></span>
                </a>
            </li>
            <li>
                <a href="https://hankou.com/regulations/" title="">
                    <span></span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Berkshire Hathaway&#39;s Stock Price
    </h1>
    <div class="post-description">
      Valuation in the Post-Buffett Era
    </div>
    <div class="post-meta"><span title='2025-05-12 00:00:00 +0000 UTC'>May 12, 2025</span>&nbsp;·&nbsp;<span>Acj</span>

</div>
  </header> 
  <div class="post-content"><p>Berkshire Hathaway&rsquo;s annual shareholder meeting is famously dubbed the &ldquo;Woodstock of Capitalism.&rdquo; However, unlike the original Woodstock music festival which took place only once in the distant year of 1968 (when Buffett was 38 and had acquired Berkshire just three years prior), Buffett&rsquo;s gathering is a yearly event. How much value does this enduring &ldquo;Woodstock of Capitalism&rdquo; truly hold, and is that value adequately reflected in Berkshire Hathaway&rsquo;s stock price?</p>
<p>For six decades, Buffett has remained rooted in Omaha, Nebraska. This deliberate distance from the bustling financial centers like Wall Street in New York (a journey of over 1,200 miles) symbolizes his unique, detached investment philosophy. As the &ldquo;Buffett era&rdquo; gradually transitions, questions arise about the future of this annual financial pilgrimage and its continued influence. The path ahead is uncertain.</p>
<p>For many investors, a pressing and tangible question concerns the valuation of Berkshire Hathaway in a &ldquo;post-Buffett&rdquo; landscape. Let&rsquo;s analyze this from several angles.</p>
<p>Recently, amid ongoing market attention to Berkshire&rsquo;s succession and &ldquo;de-Buffettization,&rdquo; its Class A shares have experienced some volatility, pulling back from a high of approximately $810,000 to the current price around $770,000, a roughly 6% dip. This can be seen as an initial market reaction reflecting concerns about future uncertainty. Currently, Berkshire Hathaway&rsquo;s Class A shares trade around $770,000, corresponding to a book value per share of approximately $450,000, resulting in a price-to-book ratio of about 1.7 times. This valuation is considered mid-to-high in Berkshire&rsquo;s historical context. While not appearing cheap compared to many other large, stable companies, this valuation is often deemed acceptable when considering Berkshire&rsquo;s unique structure, including its minimal debt, ample free cash flow generation, and independence from external financial markets for funding.</p>
<h2 id="is-berkshire-hathaways-stock-worth-770000-per-share">Is Berkshire Hathaway&rsquo;s Stock Worth $770,000 Per Share?<a hidden class="anchor" aria-hidden="true" href="#is-berkshire-hathaways-stock-worth-770000-per-share">#</a></h2>
<h3 id="assets-and-cash-flow">Assets and Cash Flow:<a hidden class="anchor" aria-hidden="true" href="#assets-and-cash-flow">#</a></h3>
<p>As of the first quarter of 2025, Berkshire held a record $347.7 billion in cash reserves, with its proportion of total assets increasing from 28.2% in 2019 to 31.9% in 2024. This indicates the company&rsquo;s preparedness for uncertainty and provides significant flexibility for future investment opportunities. Furthermore, Berkshire&rsquo;s equity investment portfolio is highly concentrated, with 69% of its fair value residing in five core holdings: American Express, Apple, Bank of America, Coca-Cola, and Chevron. These positions provide stable dividend income and long-term appreciation potential.</p>
<p>Berkshire&rsquo;s robust insurance operations serve as a powerful engine (&ldquo;cash cow&rdquo;), generating approximately $173 billion in float, a low-cost source of funds that fuels its investment activities. The company&rsquo;s diverse core businesses demonstrated strong profitability and resilience, achieving $37.35 billion in operating earnings in fiscal year 2023. Although short-term investment fluctuations led to a year-over-year decrease in net earnings in Q1 2025, Buffett has consistently emphasized that short-term investment gains or losses have limited significance in assessing the company&rsquo;s true intrinsic value; the long-term performance of its underlying businesses is what truly matters.</p>
<h3 id="valuation-analysis">Valuation Analysis:<a hidden class="anchor" aria-hidden="true" href="#valuation-analysis">#</a></h3>
<p>Based on market data from May 2025, Berkshire&rsquo;s Class A share price is approximately $770,000, leading to a market capitalization close to $1.2 trillion. From a price-to-book (P/B) perspective, the current share price is about 1.7 times its book value, a level that is mid-to-high historically for Berkshire. However, evaluating its valuation must consider its unique business model and remarkable long-term growth trajectory. Looking back over the past six decades, Berkshire&rsquo;s per-share book value has grown at an astonishing compound annual growth rate of 19.9%, far exceeding the S&amp;P 500&rsquo;s 10.4% over the same period. Using the $96.223 billion net earnings attributable to shareholders in fiscal year 2023 as a baseline (acknowledging the volatility from short-term investment gains/losses), the current price-to-earnings (P/E) ratio is around 13.7 times. This is significantly lower than the current average P/E ratio of the S&amp;P 500 index (approximately 20-25 times), which supports the view that its valuation is relatively reasonable.</p>
<h3 id="growth-prospects">Growth Prospects:<a hidden class="anchor" aria-hidden="true" href="#growth-prospects">#</a></h3>
<p>Going forward, Berkshire&rsquo;s growth will primarily depend on the continued appreciation of its existing investment portfolio and its ability to find new, large-scale acquisition opportunities that meet its stringent criteria. However, Buffett has been cautious about major acquisitions in recent years; there have been no significant deals comparable to the 2016 Precision Castparts acquisition. Furthermore, in the current market environment characterized by generally high valuations, the company has been a net seller of equity assets for ten consecutive quarters (net sold $1.5 billion in Q1 2025). This reflects the increasing difficulty in finding attractive investment targets that fit its standard of &ldquo;buying wonderful businesses at a fair price.&rdquo; Despite this, Berkshire&rsquo;s investment in Japan&rsquo;s five major trading houses (Mitsui, Mitsubishi, Sumitomo, Itochu, and Marubeni) has been notably successful, with the value of these holdings increasing significantly and a stated plan for long-term ownership. This indicates the company continues to actively seek value pockets and potential opportunities globally.</p>
<h2 id="post-buffett-era-challenges-and-opportunities">Post-Buffett Era: Challenges and Opportunities<a hidden class="anchor" aria-hidden="true" href="#post-buffett-era-challenges-and-opportunities">#</a></h2>
<p>As Berkshire Hathaway enters the post-Buffett era, it faces notable challenges:</p>
<ul>
<li><strong>Market Sentiment:</strong> Warren Buffett&rsquo;s personal reputation and investment philosophy are key components of Berkshire&rsquo;s unique brand value. As his direct influence gradually wanes, market sentiment could experience short-term volatility, particularly within the current context of relatively high US stock valuations and increased macroeconomic uncertainties like tariff policies.</li>
<li><strong>Successor&rsquo;s Ability:</strong> While Greg Abel is widely recognized as a steady choice for overseeing operations, his ability to replicate Buffett&rsquo;s unparalleled long-term investment success remains to be tested over time. Buffett&rsquo;s &ldquo;five-second decision&rdquo; philosophy, based on deep understanding and decisive action, will be a significant trial for his successors in the investment roles.</li>
<li><strong>Macroeconomic and Policy Risks:</strong> Buffett has repeatedly warned about the potential negative impacts of trade protectionism and tariff policies on the global economy. Specifically, potential reciprocal tariff policies by the US government in 2025 could further impact the operating profits of Berkshire&rsquo;s diverse businesses.</li>
</ul>
<p>Simultaneously, the company possesses significant opportunities and strengths:</p>
<ul>
<li><strong>Massive Cash Reserves:</strong> The substantial cash holding of $347.7 billion provides Greg Abel with immense flexibility and operational capacity to navigate market changes and seize potential opportunities. This capital can be deployed for large-scale stock buybacks, strategic new investments, or value-buying during market downturns.</li>
<li><strong>Diversified and Resilient Business Portfolio:</strong> Berkshire&rsquo;s core business segments, notably insurance, rail (BNSF), energy (BHE), and diversified manufacturing/service/retail operations, consistently generate strong and stable cash flow. This provides the company with significant resilience and anti-risk capability during macroeconomic fluctuations.</li>
</ul>
<p><strong>In Conclusion:</strong> As Berkshire Hathaway enters the post-Buffett era, despite facing challenges such as testing successor capabilities and macroeconomic uncertainties, its strong fundamentals remain solid. The colossal cash reserves, the diversified portfolio composed of numerous high-quality businesses, and a clear succession framework provide firm support for its long-term value. The current stock price of approximately $770,000 per share, relative to its fundamentals and historical valuation levels, can still be considered within a reasonable range for long-term oriented investors. However, short-term market sentiment fluctuations and risks at the macroeconomic and policy levels may still lead to some degree of price volatility.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://hankou.com/insights/jianghan-customs-house-in-wuhan/">
    <span class="title">« </span>
    <br>
    <span>Jianghan Customs House in Wuhan</span>
  </a>
  <a class="next" href="https://hankou.com/insights/gates_wealth_and_legacy/">
    <span class="title"> »</span>
    <br>
    <span>Gates&#39; Wealth and Legacy</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://hankou.com/">Hankou</a></span> · 
    <a href="/privacy-policy/">Privacy Policy</a> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

</body>

</html>
