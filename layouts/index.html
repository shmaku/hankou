{{/*
  This is the custom layout for the homepage (/).
  It lists the main sections of the website, similar to a documentation index page.
  Remove the define/end tags as this file is likely intended as a standalone layout.
*/}}

<article class="homepage-sections-index"> {{/* Give homepage a class for CSS styling */}}
    <header class="homepage-header">
        {{ with .Site.GetPage "_index.md" }} {{/* Get content from content/_index.md */}}
            <h1>{{ .Title }}</h1> {{/* Display title from _index.md */}}
            {{ .Content }} {{/* Display content from _index.md */}}
        {{ end }}
    </header>

    <div class="main-sections-list">
        <h2>Website Main Content Sections</h2> {{/* You can change this title */}}

        <ul class="sections-ul">
            {{ range .Site.Sections }} {{/* Loop through all top-level Sections (folders in content/) */}}

                {{/* Exclude default Hugo sections or ones you don't want listed on the homepage */}}
                {{ if and (.IsSection) (ne .Title "404") (ne .Title "Posts") (ne .Title "post") }} {{/* Check if it's a Section and exclude 404 and default Posts/post */}}

                    <li class="section-item">
                        <h3 class="section-title">
                            <a href="{{ .RelPermalink }}">{{ .Title }}</a> {{/* Display Section title and link to its list page */}}
                        </h3>

                        {{ with .Params.description }} {{/* If description is defined in the Section's _index.md front matter */}}
                            <p class="section-description">{{ . }}</p> {{/* Display Section description */}}
                        {{ end }}

                        {{/* Optional: List a few recent pages from this section on the homepage */}}
                        <ul class="section-pages-list">
                            {{ range first 5 .Pages }} {{/* Loop through the latest 5 pages in this Section */}}
                                {{ if .IsPage }} {{/* Ensure it's a single page */}}
                                    <li>
                                        <a href="{{ .RelPermalink }}">{{ .Title }}</a> {{/* Display page title and link to the page */}}
                                    </li>
                                {{ end }}
                            {{ end }}
                        </ul>
                    </li>

                {{ end }} {{/* End Section exclusion check */}}
            {{ end }} {{/* End Section loop */}}
        </ul>
    </div>

    {{/* You can add other content blocks here if needed */}}

</article>

{{/*
  Note: The CSS provided in the previous turn should be added to your theme's
  CSS files to style this layout.
*/}}

